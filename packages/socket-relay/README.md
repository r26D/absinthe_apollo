# @r26d/absinthe-apollo-socket-relay

> Absinthe Socket Relay for React

<!-- START doctoc generated TOC please keep comment here to allow auto update -->
<!-- DON'T EDIT THIS SECTION, INSTEAD RE-RUN doctoc TO UPDATE -->
<!-- END doctoc -->

- [Installation](#installation)
  - [Using npm](#using-npm)
  - [Using yarn](#using-yarn)
- [Examples](#examples)
- [API](#api)
  - [createFetcher](#createfetcher)
    - [Parameters](#parameters)
  - [createSubscriber](#createsubscriber)
    - [Parameters](#parameters-1)
  - [isSubscribed](#issubscribed)
    - [Parameters](#parameters-2)
- [References](#references)
- [License](#license)

<!-- END doctoc generated TOC please keep comment here to allow auto update -->

## Installation

### Using [npm](https://docs.npmjs.com/cli/npm)

    $ npm install --save @r26d/absinthe-apollo-socket-relay

### Using [yarn](https://yarnpkg.com)

    $ yarn add @r26d/absinthe-apollo-socket-relay

## Examples

-   **relay-environment.js**

```javascript
// @flow

import {createFetcher, createSubscriber} from "@absinthe-phoenix-socket-relay";
import {Environment, Network} from "relay-runtime";

import * as AbsintheSocket from '@r26d/absinthe-apollo-socket'

export default new Environment({
  network: Network.create(
    createFetcher(absintheSocket),
    createSubscriber(absintheSocket)
  ),
  store: new Store(new RecordSource())
});
```

## API

<!-- Generated by documentation.js. Update this documentation by updating the source code. -->

### createFetcher

Creates a Fetcher (Relay FetchFunction) using the given AbsintheSocket
instance

#### Parameters

-   `absintheSocket`  
-   `onError`  

### createSubscriber

Creates a Subscriber (Relay SubscribeFunction) using the given AbsintheSocket
instance

#### Parameters

-   `absintheSocket`  
-   `onRecoverableError`  

### isSubscribed

Returns a promise that resolves to `true` in case subscription of given
disposable has started or to `false` otherwise

#### Parameters

-   `disposable`  

## References

-   [Absinthe Socket](https://github.com/absinthe-graphql/absinthe-socket/tree/master/packages/socket)
-   **Relay**
    -   [Environment](https://facebook.github.io/relay/docs/relay-environment.html)
    -   [NetworkLayer](https://facebook.github.io/relay/docs/network-layer.html)
    -   [FetchFunction](https://github.com/facebook/relay/blob/master/packages/relay-runtime/network/RelayNetworkTypes.js#L79)
    -   [SubscribeFunction](https://github.com/facebook/relay/blob/master/packages/relay-runtime/network/RelayNetworkTypes.js#L93)

## License

[MIT](LICENSE.txt) :copyright: r26D LLC
